// PtrStack.cpp: implementation of the CPtrStack class.
//
// created by Unwinder
//////////////////////////////////////////////////////////////////////
#include "stdafx.h"
#include "PtrStack.h"
//////////////////////////////////////////////////////////////////////
// Construction/Destruction
//////////////////////////////////////////////////////////////////////
CPtrStack::CPtrStack()
{
}
//////////////////////////////////////////////////////////////////////
CPtrStack::~CPtrStack()
{
}
//////////////////////////////////////////////////////////////////////
void CPtrStack::Push(LPVOID pData)
{
	AddHead(pData);
}
//////////////////////////////////////////////////////////////////////
LPVOID CPtrStack::Pop()
{
	LPPTR_LIST_NODE pNode = GetHead();

	if (pNode)
	{
		LPVOID pResult = pNode->pData;

		RemoveAt(pNode);

		return pResult;
	}

	return NULL;
}
//////////////////////////////////////////////////////////////////////
LPVOID CPtrStack::Peek(DWORD dwDepth)
{
	LPPTR_LIST_NODE pNode = GetHead();

	while (pNode && dwDepth)
	{
		pNode = pNode->pNext;

		dwDepth--;
	}

	if (pNode)
		return pNode->pData;

	return NULL;
}
//////////////////////////////////////////////////////////////////////
